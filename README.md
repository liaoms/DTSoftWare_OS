# DTSoftWare_OS
从零打造一个操作系统内核

# 2020-01-19
	第一个主引导程序启动
	1、编译汇编代码
		nasm boot.asm -o boot.bin
	2、创建a.img软盘
		bximage (参数依次选择fd 、 1.44 、 a.img)
	3、讲主引导程序写入a.imgruanpan
		dd if=boot.bin of=a.img bs=512 count=1 conv=notrunc
		if：输入文件
		of：输出到
		bs：每个单元的大小(单位字节)
		count：写入的单元个数
		conv：写入模式(notrunc为无换行间隔)
	4、创建新的虚拟机DTOS，并将启动软盘设置为a.img
	5、启动新的虚拟机DTOS即可
	
	调试环境搭建
	1、软件及配置已经配置好，将bochsrc文件放到要调试的.bin的目录下即可
	2、命令行直接输入bochs启动调试软件，使用方式与gdb类似

# 2020-01-20
	主引导程序扩展
	1、使用Fat12文件系统对软盘data.img格式化，并往data.img写入两个文件 loader.bin、test.txt，同时读取data.img中Fat12文件系统的主引导区基本信息
	2、获取根目录文件项
	3、获取指定文件名的根目录项
	4、获取指定文件名内容
	
# 2020-01-21
	突破512字节限制
	1、编写打印函数打印字符串
	2、读取指定扇区的内容
	3、增加内存比较函数
	4、增加根目录目标文件查找函数
	5、增加内存拷贝函数
	6、增加FAT表项读取函数

# 2020-02-21
	主引导程序控制权的转移
	主引导程序执行完成后，跳转到其他文件函数执行，最终将控制权交出去

# 2020-02-23
	实模式到保护模式
	1、实模式切换到保护模式执行
	2、定义显示段并在屏幕上打印一个字符
	3、定义打印函数打印字符串、优化代码

# 2020-02-24
	从保护模式返回实模式
	1、上节优化:定义32位保护模式下的栈段，该模式下的函数调用需要的栈都是这个栈
	2、从保护模式返回实模式(先在保护模式下打印黑底红字的"D.T.OS!"，再返回实模式打印黑底白字的"D.T.OS!")
	
# 2020-02-29
	第十四课、局部段描述符表的使用
	1、新增加一个局部段，内部定义一个任务A，定义自己的数据段、代码段、栈段，并且从全局段跳到局部段中的代码段执行(多任务的基本思想)
	
	
	